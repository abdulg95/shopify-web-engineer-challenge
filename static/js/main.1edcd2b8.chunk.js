(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{130:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(36),o=a.n(i),l=(a(56),a(17)),s=a(37),c=a(38),u=a(48),m=a(39),d=a(49),v=function(){return r.a.createElement("div",{className:"header"},r.a.createElement("h1",null,"Toronto Waste Lookup"))},f=a(40),h=a.n(f),p=function(){return r.a.createElement("div",{className:h.a.Loader},"Loading...")},E=a(132),g=a(41),b=a.n(g),N=a(15),w=a.n(N),y=a(42),_=a.n(y),S=(a(97),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).parse=function(e){var t;return t=a.state.data.filter(function(t){if(-1!==t.keywords.indexOf(e))return t}),console.log(e),console.log(t),t},a.handleChange=function(e){a.setState({value:e.target.value})},a.handleFavourite=function(e){var t=a.state.data.findIndex(function(t){return t.id===e}),n=[],r=[];if(n=Object(l.a)(a.state.data),r=Object(l.a)(a.state.favourites),a.state.data[t].favourite){n[t].favourite=!1;var i=a.state.favourites.findIndex(function(t){return t.id===e});-1!==t&&r.splice(i,1)}else n[t].favourite=!0,r.push(n[t]);a.setState({data:n,favourites:r})},a.handleSubmit=function(e){e.preventDefault(),""===a.state.value?a.setState({items:[]}):a.setState({items:a.parse(a.state.value)})},a.formatItems=function(){return 0===a.state.items.length?r.a.createElement("div",null):a.state.items.map(function(e,t){var n=e.favourite?"faveButtonGreen":"faveButton",i=w()(e.body),o=r.a.createElement("div",{dangerouslySetInnerHTML:{__html:i.toString()}});return r.a.createElement("div",{className:"item",key:t},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{className:"title"},r.a.createElement("button",{className:n,onClick:function(){return a.handleFavourite(e.id)}},r.a.createElement(E.a,{glyph:"star"})),r.a.createElement("h3",null,e.title))),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{className:"description"},o))))})},a.formatFavourites=function(){return 0===a.state.favourites.length?r.a.createElement("div",null):a.state.favourites.map(function(e,t){var n=e.favourite?"faveButtonGreen":"faveButton",i=w()(e.body),o=r.a.createElement("div",{dangerouslySetInnerHTML:{__html:i.toString()}});return r.a.createElement("div",{className:"item",key:t},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{className:"title"},r.a.createElement("button",{className:n,onClick:function(){return a.handleFavourite(e.id)}},r.a.createElement(E.a,{glyph:"star"})),r.a.createElement("h3",null,e.title))),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{className:"description"},o))))})},a.state={data:[],favourites:[],isLoading:!0,error:null,value:"",items:[]},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;b.a.get("https://secure.toronto.ca/cc_sr_v1/data/swm_waste_wizard_APR?limit=1000").then(function(t){t.data.map(function(e){e.favourite=!1,e.id=_.a.generate()}),e.setState({data:t.data,isLoading:!1}),console.log(e.state.data)}).catch(function(t){e.setState({error:t,isLoading:!1}),alert("There is a problem with the api request of type "+t)})}},{key:"render",value:function(){return this.state.isLoading?r.a.createElement(p,null):r.a.createElement("div",{className:"container-default"},r.a.createElement(v,null),r.a.createElement("div",{className:"container-fluid"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("input",{type:"text",value:this.state.value,style:{paddingTop:"5px",paddingBottom:"5px",fontSize:"1.5em",margin:"10px"},onChange:this.handleChange}),r.a.createElement("button",{type:"submit",style:{backgroundColor:"#239460",marginRight:"10px",marginTop:"20px",borderRadius:"5px",border:"none"}},r.a.createElement(E.a,{glyph:"search icon-flipped"}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},this.formatItems())),this.state.favourites.length>0?r.a.createElement("div",{className:"favouritesColor",style:{background:"#f7fefa",paddingBottom:"15px"}},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"title col-md-12"},r.a.createElement("h1",{style:{color:"#23995c",marginLeft:"25px",paddingTop:"20px",fontWeight:"bold"}},"Favourites"))),r.a.createElement("div",{className:"favourites"},this.formatFavourites())):r.a.createElement("div",null)))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},40:function(e,t,a){e.exports={Loader:"Spinner_Loader__1QdL_",load6:"Spinner_load6__1HxD1",round:"Spinner_round__1703r"}},50:function(e,t,a){e.exports=a(130)},56:function(e,t,a){},97:function(e,t,a){}},[[50,2,1]]]);
//# sourceMappingURL=main.1edcd2b8.chunk.js.map